<mat-accordion>
  <mat-expansion-panel *ngFor="let stock of stocks; let i = index;" (opened)="getTimeseries(stock.isin)">
      <mat-expansion-panel-header>
        <mat-panel-title>
          {{stock.name}}
        </mat-panel-title>
        <mat-panel-description>
          {{stock.isin}}
        </mat-panel-description>
        <mat-panel-description>
          {{stock.exchange}}
        </mat-panel-description>
      </mat-expansion-panel-header>
      <table style="width:100%">
        <tr>
          <th>Name</th>
          <th>Isin</th>
          <th>Currency</th>        
          <th>Exchange</th>
          <th>Instrument code</th>
        </tr>
        <tr>
          <td>{{stock.name}}</td>
          <td>{{stock.isin}}</td>
          <td>{{stock.currency}}</td>
          <td>{{stock.exchange}}</td>
          <td>{{stock.instrumentCode}}</td>
        </tr>
        <tr >
          <td colspan="5" *ngIf="stock.stockTimeSerieFacts !== null">
            <div style="display: block;">
              <canvas baseChart width="600" height="300"
                [type]="'line'"
                [data]="getLineChartData(stock.isin)"
                [options]="lineChartOptions"
                [legend]="lineChartLegend">
              </canvas>
            </div>
          </td>
        </tr>
      </table>
  </mat-expansion-panel>
</mat-accordion>
